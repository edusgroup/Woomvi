{% extends "global/index.twig" %}

{% block head %}

{% endblock %}

{% block footer %}
    <script src="/res/js/loadjs.js"></script>
    <script>
        jQuery(document).ready(function () {
            "use strict";
            /*var loader = new wumvi.LoadScript([
                '/res/bower_package/jquery.countdown/dist/jquery.countdown.min.js'
            ], function () {
                jQuery('.countdown-box-js').each(function () {
                    var dateEnd = (jQuery(this).data('time'));
                    jQuery(this).countdown(dateEnd, function (event) {
                        jQuery(this).find('.time-box-js').html(event.strftime('%H:%M:%S'));
                    });
                });
            });*/
        });
    </script>
{% endblock %}

{% block content %}
    {% spaceless %}
        <style>
            .course-list {
                overflow: hidden;
                margin-left: -20px;
            }

            .course-list .item {
                float: left;
                width: 220px;
                height: 320px;
                line-height: 0;
                margin: 20px 0 3px 20px;
                position: relative;

                -webkit-border-radius: 9px;
                -moz-border-radius: 9px;
                border-radius: 9px;

                overflow: hidden;

                -webkit-box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.1);
                -moz-box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.1);
                box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.1);

                border: 1px solid #cdcdcd;
            }

            .course-list .item.noshadow {
                -webkit-box-shadow: none;
                -moz-box-shadow: none;
                box-shadow: none;

                border: 0;
            }

            .course-list .item .preview {
                width: 220px;
                height: 320px;;
            }

            .course-list .item a {
                display: block;
                overflow: hidden;
                line-height: 0;
                font-size: 0;
            }

            .course-list .item .text {
                padding: 0 10px;
                bottom: 20px;
                position: absolute;
                color: #fff;
            }

            .course-list .item .text.dark {
                color: #000;
            }

            .course-list .item .caption {
                font-size: 18px;
                line-height: 22px;
                /*color: #fecc33; */
            }

            .course-list .item .description {
                font-size: 12px;
                line-height: 14px;
            }

            .course-list .item.locked .locked {
                background: url('/res/img/raznoe/lock.png');
                display: block;
            }

            .course-list .item:hover .access {
                bottom: 12px;

            }

            .course-list .item .access {
                width: 41px;
                height: 62px;
                position: absolute;
                bottom: 10px;
                right: 10px;
                display: none;
            }

            /*.course-list .item.time-flag .time-icon{
                background: url('/res/img/raznoe/time.png');
                display: block;
            }*/

            .course-list .item .refreach {
                background: url('/res/img/raznoe/reopen.png');
                display: block;
                width: 62px;
                height: 62px;
                position: absolute;
                right: 16px;
                bottom: 16px;

            }

            /*.course-list .item .countdown-box{
                position: absolute;
                top: 135px;
                left: 0;
                height: 50px;

                width: 100%;
                text-align: center;
                background: rgba(255, 255, 255, 0.95);
                border-top: 1px solid #cdcdcd;
                border-bottom: 1px solid #cdcdcd;
            }

            .course-list .item .countdown-box .time-box{
                font-size: 20px;
                line-height: 40px;
            }

            .course-list .item:hover .countdown-box .time-box{
                font-size: 24px;
            }

            .course-list .item .countdown-box .text-box{
                font-size: 10px;
                margin-top: 10px;
            } */
        </style>

        <div id="maincontentcontainer">
            <div id="maincontent" class="container">



                <h1>{{ courseData.name }}</h1>

                <h2>Грамматика</h2>

                <div class="course-list">
                    {%
                        set cardTypeInfo = {
                            'pendulum': {
                                'caption': 'Маятник №%s',
                                'description': 'Развитие навыков',
                                'imgUrl': '/res/img/course/list/pendulum.jpg',
                                'itemUrl': 'course.pendulum'
                            },
                            'trashMistake': {
                                'caption': 'Trash mistake №%s',
                                'description': 'Тест грамматики',
                                'imgUrl': '/res/img/course/list/trash.jpg',
                                'itemUrl': 'course.trash-mistake'
                            },
                            'question': {
                                'caption': 'Вопрос ответ №%s',
                                'description': 'Тест грамматики',
                                'imgUrl': '/res/img/course/list/question.jpg',
                                'itemUrl': 'course.question-answer'
                            },
                            'verbs': {
                                'caption': 'Новые глаголы №%s',
                                'description': 'Словарный запас',
                                'imgUrl': '/res/img/course/list/verb.jpg',
                                'itemUrl': 'material.card'
                            },
                            'speaking': {
                                'caption': 'Speaking №%s',
                                'description': 'Устойчивые выражения',
                                'imgUrl': '/res/img/course/list/speaking.jpg',
                                'itemUrl': 'course.speaking'
                            },
                            'check': {
                                'caption': 'Тест Speaking №%s',
                                'description': 'Тестирование',
                                'imgUrl': '/res/img/course/list/check.jpg',
                                'itemUrl': 'course.check'
                            },
                            'wordspeed': {
                                'caption': 'Слова на скорость №%s',
                                'description': 'Развитие навыков',
                                'imgUrl': '/res/img/course/list/speedword.jpg',
                                'itemUrl': 'material.wordspeed'
                            },
                            'exam': {
                                'caption': 'Экзамен на Be-have №%s',
                                'description': 'Экзамен',
                                'imgUrl': '/res/img/exam.jpg',
                                'itemUrl': 'course.exam'
                            },
                            'grammar': {
                                'caption': '%s',
                                'description': 'Грамматика',
                                'imgUrl': '/res/img/course/' ~ courseName ~ '/list-icon.jpg',
                                'itemUrl': 'grammar.index'
                            }
                        }

                    %}


                    {# Экзамен ---------------------------------------- #}
                    {% for item in courseData.courseCardList %}

                        {% set class = 'locked' %}
                        {% if item.isOpen %}
                            {% set class = '' %}
                        {% endif %}

                        {% set cardTypeItem = cardTypeInfo[item.name] %}

                        {% if item.name == 'getabstract' %}

                            {% if not item.url %}
                                <div class="item noshadow">
                                    <a href="{{ route('course.choose.book', courseName ) }}">
                                        <img src="/res/img/empty.png" class="preview"/>
                                    </a>
                                </div>
                            {% else %}
                                {% include 'route/course/list.card.twig' with{
                                    'itemClass': class,
                                    'imgUrl': '/res/img/course/abstract/' ~ item.url ~ '.jpg',
                                    'itemUrl': route('material.getabstract', courseName, item.url),
                                    'caption': 'Книга',
                                    'description': ''
                                } %}
                            {% endif %}

                        {% else %}
                            {% include 'route/course/list.card.twig' with{
                                'type': item.name,
                                'itemClass': class,
                                'imgUrl': cardTypeItem.imgUrl,
                                'itemUrl': route(cardTypeItem.itemUrl, item.url),
                                'caption': cardTypeItem.caption | format(item.caption),
                                'description': cardTypeItem.description
                            } %}
                        {% endif %}
                    {% endfor %}


                </div>


            </div>
        </div>

       <!-- <div class="guide-user">
            <div class="top black-fade"></div>
            <div class="wrapper">
                <div class="left black-fade"></div>
                <img src="/res/img/guide/bg.png" class="pointer"/>
                <div class="right black-fade"></div>
            </div>
            <div class="bottom black-fade"></div>
        </div>
        <script>

            function UserGuide(){

            }

            UserGuide.prototype.build = function(){

            };

            UserGuide.prototype.addRule = function(){

            };

            var userGuide = new UserGuide();
            userGuide.addRule({

            });

            userGuide.build();
        </script>

        <style>
            .guide-user{
                position: fixed;
                z-index: 50;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
            }

            .black-fade{
                background: url('/res/img/guide/bg-s.png');
            }

            .guide-user .left, .guide-user .right{
                height: 201px;
                float: left;
            }

            .guide-user .wrapper{
                clear: left;
                overflow: hidden;
            }

            .guide-user .pointer{
                float: left;
            }

            /*---------------------*/
            .guide-user .left{
                width: 400px;
            }

            .guide-user .top, .guide-user .bottom{
                height: 100px;
            }


        </style> -->
    {% endspaceless %}
{% endblock %}